# Инструкция по начальной настройке новой функциональности

Данная инструкция предназначена для специалистов заказчика, ответственных за настройку и администрирование информационной базы. Она описывает действия, которые необходимо выполнить в существующей информационной базе, чтобы начать использовать новую функциональность, разработанную для учета заработной платы и планирования отпусков.

**Важно:** Перед началом настройки рекомендуется сделать резервную копию информационной базы!

## Шаг 1: Обновление конфигурации

1.  Обновите конфигурацию базы данных до версии, содержащей разработанную функциональность. Это можно сделать с помощью стандартных средств платформы "1С:Предприятие":
    *   Запустите конфигуратор.
    *   Выберите "Конфигурация" -> "Сравнить, объединить с конфигурацией из файла..."
    *   Укажите файл cf или dt, содержащий новую конфигурацию.
    *   Внимательно ознакомьтесь с результатами сравнения и объединения. Обратите особое внимание на возможные конфликты.
    *   Примите изменения.
    *   Обновите конфигурацию базы данных.

## Шаг 2: Заполнение констант

После обновления конфигурации необходимо заполнить константы, используемые в новой функциональности.

1.  Запустите "1С:Предприятие" в режиме "Предприятие".
2.  Откройте раздел "Администрирование" (или аналогичный раздел, где у вас находятся настройки).
3.  Найдите пункт "Настройки зарплаты и отпусков" (или аналогичный пункт, где находятся константы).
4.  Заполните следующие константы:

    *   **Год начала ведения графика отпусков:** Укажите год, с которого начинается планирование отпусков (например, 2024).
    *   **Организация:** Укажите организацию, для которой ведется учет. (Если учет ведется по нескольким организациям, убедитесь, что константа позволяет указывать организацию).
    *   **(Возможно, другие константы, специфичные для вашей реализации).**  Укажите ставки налогов, минимальный размер оплаты труда и другие параметры.

## Шаг 3: Настройка прав доступа

Необходимо назначить права доступа пользователям, которые будут работать с новой функциональностью.

1.  Убедитесь, что в конфигурации существует профиль группы доступа "КадровикРасчетчик". Если его нет, создайте его (см. описание в [п.5](https://github.com/ваш_логин/ваш_репозиторий/blob/main/README.md#%D0%BF5-%D0%BF%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0-%D0%B3%D1%80%D1%83%D0%BF%D0%BF%D1%8B-%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0) данной инструкции).
2.  Убедитесь, что существует роль "КадровикРасчетчик". Если её нет, создайте её (см. описание в [п.4](https://github.com/ваш_логин/ваш_репозиторий/blob/main/README.md#%D0%BF4-%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-%D1%80%D0%BE%D0%BB%D0%B5%D0%B9) данной инструкции).
3.  Откройте список пользователей (раздел "Администрирование" -> "Пользователи").
4.  Для каждого пользователя, который должен иметь права кадровика-расчетчика:
    *   Откройте карточку пользователя.
    *   Перейдите на закладку "Права доступа" (или аналогичную).
    *   Добавьте пользователя в группу доступа "КадровикиРасчетчики" (если такая группа существует).  Если группы нет, то ее нужно создать. (см. [п.6](https://github.com/ваш_логин/ваш_репозиторий/blob/main/README.md#%D0%BF6-%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B3%D1%80%D1%83%D0%BF%D0%BF%D1%8B-%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0-%D0%B8-%D0%BD%D0%B0%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D0%B5%D0%B9) данной инструкции)
    *   Убедитесь, что у пользователя установлена роль "КадровикРасчетчик" (если вы используете отдельные роли, убедитесь, что у пользователя установлены все необходимые роли).

## Шаг 4: Перенос данных (при необходимости)

Если в исходной конфигурации у вас уже велся какой-то учет отпусков, может потребоваться перенести эти данные в новую функциональность.

1.  Определите, какие данные нужно перенести (например, остатки отпусков на начало года, запланированные отпуска).
2.  Разработайте (или используйте существующие) механизмы переноса данных. Это может быть обработка, которая считывает данные из старых регистров и записывает их в новые.
3.  Запустите обработку переноса данных.
4.  Проверьте корректность перенесенных данных.

## Шаг 5: Тестирование

После выполнения всех настроек необходимо тщательно протестировать новую функциональность.

1.  Проверьте, что пользователи с ролью "КадровикРасчетчик" могут создавать, изменять и проводить документы "НачислениеЗарплаты", "НачислениеФиксированнойПремии", "ВыплатаЗарплаты" и "ГрафикОтпусков".
2.  Проверьте, что правильно рассчитывается заработная плата.
3.  Проверьте, что правильно формируется график отпусков.
4.  Проверьте, что правильно отображаются остатки отпусков.
5.  Проверьте, что работают отчеты по заработной плате и отпускам.

## (Дополнительно) П.4 Создание ролей:

1.  Откройте конфигуратор.
2.  Перейдите в ветку "Роли".
3.  Нажмите правой кнопкой мыши на ветке "Роли" и выберите "Добавить".
4.  Введите имя роли: "КадровикРасчетчик".
5.  Перейдите на закладку "Права".
6.  В дереве объектов метаданных найдите все объекты, к которым должны иметь доступ кадровики-расчетчики, и установите соответствующие флажки:
    *   **Документы:**
        *   "НачислениеЗарплаты":  Чтение, Добавление, Изменение, Проведение.
        *   "НачислениеФиксированнойПремии": Чтение, Добавление, Изменение, Проведение.
        *   "ВыплатаЗарплаты": Чтение, Добавление, Изменение, Проведение.
        *   "ГрафикОтпусков": Чтение, Добавление, Изменение.
    *   **Справочники:**
        *   "Сотрудники": Чтение.
        *   "ВидыНачислений": Чтение.
        *   "ВидыУдержаний": Чтение.
        *   (И другие справочники, которые используются в документах).
    *   **Регистры расчета:**
        *   "ОсновныеНачисления": Чтение.
        *   "ДополнительныеНачисления": Чтение.
        *   "Удержания": Чтение.
    *   **Регистр накопления:**
        *   "ВзаиморасчетыССотрудниками": Чтение.
    *   **Отчеты:**
        *   (Если есть отчеты по зарплате и отпускам, предоставьте права на их чтение).
7.  Убедитесь, что у вас установлены права на чтение и изменение для табличных частей документов, а также права на просмотр отчетов.

## (Дополнительно) П.5 Подготовка группы доступа:

1.  Перейдите в ветку "Профили групп доступа" ("Access Group Profiles").
2.  Если профиль "КадровикРасчетчик" отсутствует, нажмите правой кнопкой мыши на ветке "Профили групп доступа" и выберите "Добавить" ("Add").
3.  Введите имя профиля: "КадровикРасчетчик".
4.  (Возможно, потребуется указать другие свойства профиля, например, описание).
5.  Откройте профиль группы доступа "КадровикРасчетчик".
6.  Перейдите на закладку "Роли" ("Roles").
7.  Добавьте в список только одну роль: "КадровикРасчетчик".

## (Дополнительно) П.6 Создание группы доступа и назначение пользователей:

1.  Перейдите в ветку "Группы доступа" ("Access Groups").
2.  Нажмите правой кнопкой мыши на ветке "Группы доступа" и выберите "Добавить" ("Add").
3.  Введите имя группы: "КадровикиРасчетчики".
4.  В поле "Профиль" ("Profile") выберите профиль "КадровикРасчетчик".
5.  Перейдите на закладку "Участники" ("Members").
6.  Добавьте пользователей, которые должны иметь права кадровиков-расчетчиков.
